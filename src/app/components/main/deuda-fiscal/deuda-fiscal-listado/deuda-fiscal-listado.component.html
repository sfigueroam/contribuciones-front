<!-- <app-linea-tiempo [seleccionar]="propiedades.length > 0 " [doneBuscar]="propiedades.length > 0 "></app-linea-tiempo> -->

<!-- <div class="mdl-grid" *ngIf="listServicio.length > 0; else bodySinDeuda">

  <div class="mdl-cell mdl-cell--12-col select-fee">
      <div *ngIf="complete && result.total > 0">
          <div class="check-seleccion-deudas no-vencidas" *ngIf="!existeVencidas" (click)="seleccionarTodas()">
              <mdl-icon> {{ selectedIcon }} </mdl-icon>
              <span>Seleccionar <strong>TODAS</strong> las deudas</span>
          </div>

          <div class="check-seleccion-deudas vencidas" *ngIf="existeSoloVencidas" (click)="seleccionarTodasVencidas()">
              <mdl-icon> {{ selectedIcon }} </mdl-icon>
              <span>Seleccionar <strong>TODAS</strong> las deudas vencidas</span>
          </div>

          <div class="mdl-button-group" *ngIf="existeVencidas && !existeSoloVencidas">
              <p>¿Qué deudas quieres pagar?</p>
              <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" [class.active]="seleccionada == tipo.TODAS" (click)="seleccionar(tipo.TODAS)">
          Todas
        </button>
              <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" [class.active]="seleccionada == tipo.NINGUNA" (click)="seleccionar(tipo.NINGUNA)">
          Ninguna
        </button>
              <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" [class.active]="seleccionada == tipo.VENCIDAS" (click)="seleccionar(tipo.VENCIDAS)">
          Vencidas
        </button>
              <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" [class.active]="seleccionada == tipo.NO_VENCIDAS" (click)="seleccionar(tipo.NO_VENCIDAS)">
          No Vencidas
        </button>
          </div>


      </div>
  </div>
</div> -->

<!-- <ng-template #bodySinDeuda>

  <div *ngIf="!obteniendoDatos" class="tgr-container">
      <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--12-col m-lr-auto pay-title sel-cuotas-subtitle">
              <p>Actualmente no tienes propiedades guardadas ni deudas en tu carro. Te invitamos a buscar y agregar propiedades para pagar.
              </p>
          </div>
      </div>
      <div class="mdl-grid">
          <div class="tgr-actions__content">
              
              <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" [routerLink]="['/centropago/contribuciones/agregar/nueva']">
                  <i class="material-icons">add</i>
                  Agregar propiedades
              </button>

          </div>
      </div>
  </div>


  <div *ngIf="obteniendoDatos" class="tgr-container">
      <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--12-col m-lr-auto pay-title sel-cuotas-subtitle">              
          </div>
      </div>
  </div>

</ng-template> -->



<app-botonera [deudasVigentes]="deudasVigentes" [deudasVencidas]="deudasVencidas" [listado]="listServicio" [tipoDeuda]="tipoDeuda"></app-botonera>

<div class="mdl-grid" *ngFor="let servicio of listServicio">
    <div class="mdl-cell mdl-cell--12-col m-lr-auto rol-card" *ngIf="servicio.listFormulario.length > 0">
        <app-deuda-fiscal-servicio [servicio]="servicio" (actualizarResumen)="actualizarResumen($event)"></app-deuda-fiscal-servicio>
    </div>
</div>

<app-resumen-pago [resumen]="resumen" [total]="resumen.total" [condonacion]="15000"  [existeVencidas]="deudasVencidas" [complete]="true"></app-resumen-pago>












<!-- <div class="tgr-actions tgr-mini-footer" *ngIf="listServicio.length > 0; else footeractions">
  <div *ngIf="!complete" class="tgr-loading2">
      <mdl-spinner single-color active></mdl-spinner>
      <p>Estamos calculando tu monto a pagar</p>
  </div>
  <div *ngIf="complete" class="tgr-actions__content">
      <button class="button-resumen" mdl-button (click)="openDialogResumen()" [disabled]="total <= 0">
      <mdl-icon [mdl-badge]="cantidadSeleccionadas" mdl-badge-overlap class="mdl-28 pointer shopping-cart">view_list
      </mdl-icon>
    </button>
      <div class="mdl-layout-spacer"></div>
      <app-boton-pagar [codigos]="listaContribuciones" [total]="total"></app-boton-pagar>
      <p class="cantidad-deudas-seleccionadas"><span><strong>{{result.seleccionadas}}</strong></span> de {{result.total}} deudas seleccionadas
      </p>
  </div>
</div> -->

<!-- <ng-template #footeractions>
  <div *ngIf="!obteniendoDatos" class="tgr-actions tgr-mini-footer">
      <p class="sin-deudas">No hay deudas seleccionadas para pagar</p>
  </div>


  <div *ngIf="obteniendoDatos" class="tgr-actions tgr-mini-footer">
      <div class="tgr-loading2">
          <mdl-spinner single-color active></mdl-spinner>
          <p class="sin-deudas">Obteniendo Datos</p>
      </div>
  </div>
</ng-template> -->

<!-- <div class="tgr-add" *ngIf="propiedades.length > 0">
  <div class="tgr-target-wrapper">
      <div class="tgr-target-wave tgr-target-wave--button">
          <button id="helpTooltip-buttonAdd" placement="left" trigger="none" [tooltip]="HtmlContent" content-type="template" mdl-button mdl-button-type="fab" mdl-colored="accent" class="new-rol" [routerLink]="['/centropago/contribuciones/agregar/nueva']">
        <mdl-icon>add</mdl-icon>
      </button>
          <ng-template #HtmlContent>
              <p>Busca y agrega nuevas propiedades.</p>
          </ng-template>
      </div>
  </div>
</div> -->