<div class="tgr-list-section" [class.delete]="mostrarDelete" [class.block]="block"
     [class.see-discounts]="mostrarSugerenciaCondonacion">
  <app-listado-propiedad
    *ngFor="let propiedad of propiedades"
    [propiedad]="propiedad"
    (change)="updateSeleccionadaTotal()"
    (disableSuggest)="mostrarSugerenciaCondonacion = false"
    (block)="blockPayment($event)">

  </app-listado-propiedad>
</div>

<div class="tgr-actions">
  <div class="tgr-actions__content">
    <div class="tgr-white">
      <div class="tgr-cell-wait">
        <div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active">
        </div>
        <h5 class="tgr-cell-wait__feedback"></h5>
      </div>
    </div>
    <div class="tgr-actions__delete-zone">
      <button type="button" class="mdl-button mdl-js-button mdl-button--raised"
              (click)="cancelarEliminacion()">
        Cancelar
      </button>
      &nbsp;&nbsp;
      <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"
              (click)="eliminar()">
        Quitar roles
      </button>
    </div>
    <div class="tgr-pay">
      <div class="tgr-pay__label">
        Cuotas seleccionadas {{cuotasSeleccionadas}} (de {{cuotasTotal}})
      </div>
      <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"
              (click)="openDialog()"
              [disabled]="pagarInactivo">Pagar <span>$</span>{{total | number}}
      </button>
    </div>
    <div class="tgr-select tgr-select--select mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <select class="mdl-textfield__input" id="octane" name="octane" (change)="seleccionar($event.target.value)">
        <option [value]="undefined" [selected]="!seleccionada" disabled>- Seleccionar -</option>
        <option [value]="tipo.TODAS" [selected]="seleccionada === tipo.TODAS">Todas</option>
        <option [value]="tipo.VENCIDAS" [selected]="seleccionada === tipo.VENCIDAS">Vencidas</option>
        <option [value]="tipo.VIGENTES" [selected]="seleccionada === tipo.VIGENTES">Vigentes</option>
        <option [value]="tipo.NINGUNA" [selected]="seleccionada === tipo.NINGUNA">Ninguna</option>
      </select>
      <label class="tgr-select__label mdl-textfield__label" for="octane">Tipo de Cuota</label>
    </div>
    <div class="tgr-select tgr-select--buttons">
      <div class="tgr-select__label">
        Seleccionar:
      </div>
      <ul class="filter">
        <li [class.active]="seleccionada === tipo.TODAS"><a (click)="seleccionar(tipo.TODAS)"><i class="material-icons">done</i>Todas</a>
        </li>
        <li [class.active]="seleccionada === tipo.VENCIDAS"><a (click)="seleccionar(tipo.VENCIDAS)"><i
          class="material-icons">done</i>Vencidas</a></li>
        <li [class.active]="seleccionada === tipo.VIGENTES"><a (click)="seleccionar(tipo.VIGENTES)"><i
          class="material-icons">done</i>Vigentes</a></li>
        <li [class.active]="seleccionada === tipo.NINGUNA"><a (click)="seleccionar(tipo.NINGUNA)"><i
          class="material-icons">done</i>Ninguna</a></li>
      </ul>
    </div>
    <div class="tgr-actions-delete">
      <div class="tgr-actions-delete--action">
        <button class="mdl-button mdl-js-button mdl-js-ripple-effect" (click)="activarEliminacion()">
          Eliminar Roles de tu cuenta
        </button>
      </div>
    </div>
  </div>
</div>
<div class="tgr-add trg-tap" [class.open]="mostrarAlerta">
  <div class="tgr-target-wrapper">
    <div class="tgr-target">
      <div class="tgr-target-content">
        <h5 class="tgr-target-text">Encontramos <span *ngIf="cantidadRolesNoAsociados == 1; else dialogMas"><strong>un rol</strong> <br>
          asociado a tu RUT <br>
          <strong class="tgr-target-here">Agrégalo aquí</strong>
          </span>
          <ng-template #dialogMas>
              <strong>{{cantidadRolesNoAsociados}} roles</strong> <br>
              asociados a tu RUT <br>
              <strong class="tgr-target-here">Agrégalos aquí</strong>
          </ng-template>

          <br>
          <br>
          <a class="tgr-close" (click)="ocultarAlerta()">ENTENDIDO</a>
        </h5>
      </div>
    </div>
    <div class="tgr-target-wave">
    </div>
  </div>
</div>
<div class="tgr-add">
  <div class="tgr-target-wrapper">
    <div class="tgr-target-wave tgr-target-wave--button" >
      <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored" [routerLink]="['propiedades']">
        <i class="material-icons">add</i>
      </button>
    </div>
  </div>
</div>
<app-detalle-pago #detallePago></app-detalle-pago>
